var formOptions = { "departments" : 
					[
						{ 
					      "department_name": "Softgoods",
					      "dept_abbr" : "sg",
					      "category": [
					      	{
					      		"category_name" : "Athletic Apparel",
					      		"sub_category" : [
													"Tennis",
													"Sportswear/Lifestyle",
													"Swimwear",
													"Training",
													"Soccer",
													"Running",
													"Basketball",
													"Outdoor Performance",
													"Golf",
													"Cycling"
					      						]
					      	},
					      	{
					      		"category_name" : "Casual Apparel",
					      		"sub_category" : [
													"Action Sports Apparel",
													"Outdoor Apparel"
					      						]
					      	},
					      	{
					      		"category_name" : "Licensed/Replica",
					      		"sub_category" : [
													"NFL",
													"CFL",
													"MLB",
													"NBA",
													"NHL",
													"CHL",
													"Pro Soccer",
													"IIHF"
					      						]
					      	},
					      	{
					      		"category_name" : "Outerwear",
					      		"sub_category" : [
													"Alpine",
													"Windwear",
													"Softshell",
													"Casual",
													"Fleece",
													"Pants",
													"Other"
					      						]
					      	},
					      	{
					      		"category_name" : "Accessories",
					      		"sub_category" : [
													"Underwear",
													"Hosiery",
													"Headwear",
													"Other"
					      						]
					      	},
					      	{
					      		"category_name" : "Winter Accessories",
					      		"sub_category" : [
													"Underwear (Baselayer)",
													"Hosiery",
													"Headwear",
													"Handwear",
													"Other"
					      						]
					      	}


					      ]

							  
						},
					  	{ 
						      
					      "department_name": "Footwear",
					      "dept_abbr" : "fw",
					      "category": [
					      	{
					      		"category_name" : "Soccer",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Baseball",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Other Cleated",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Running",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Training",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Walking",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Basketball",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Trend",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Skate",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Outdoor Casual",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Hiking",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Sandals - Athletic",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Sandals - Outdoor",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Winter",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Other - Please specify in comments",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Golf",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Cycling",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" : "Climbing",
					      		"sub_category" : [
													"NA"
					      						]
					      	}



					      ]


							  
							},
					  	{ 
						      
					      "department_name": "Hardgoods",
					      "dept_abbr" : "hg",
					      "category": [
					      	{
					      		"category_name" : "Hockey",
					      		"sub_category" : [
													"Skates",
													"Protective Equipment",
													"Protective Accessories",
													"Goalie Protective",
													"Sticks",
													"Uniforms",
												 	"Hockey Accessories",
													"Street Hockey"
					      						]
					      	},
					      	{
					      		"category_name" : "Team Sports",
					      		"sub_category" : [
													"Baseball",
													"Football",
													"Soccer",
													"Rugby",
													"Volleyball",
													"Basketball",
													"Curling",
													"Lacrosse",
													"Team Accessories"
					      						]
					      	},
					      	{
					      		"category_name" : "Watersports",
					      		"sub_category" : [
													"Paddlesports",
													"Stand Up Paddleboards",
													"Snorkeling/scuba",
													"Swimming",
													"Suits",
													"Pfds"
					      						]
					      	},
					      	{
					      		"category_name" : "Racquetsports",
					      		"sub_category" : [
													 "Tennis",
													 "Squash",
													 "Badminton",
													 "Racquetball",
													 "Accessories",
													 "Table Tennis"
					      						]
					      	},
					      	{
					      		"category_name" : "Cycling",
					      		"sub_category" : [
													"Bikes",
														"Bike Helmets",
														"Cycling Protective",
														"Tires / Tubes",
														"Bike Accessories",
														"Bike Parts",
														"Trailers / Carriers",
														"Service Shop Parts"
					      						]
					      	},
					      	{
					      		"category_name" : "Inline/Roller Skating",
					      		"sub_category" : [
													"Inline / Roller Skate",
														"Protective",
													"Accessories/Parts"
					      						]
					      	},

					      	{
					      		"category_name" : "Back Country Skiing",
					      		"sub_category" : [
													 "Accessories"
					      						]
					      	},
					      	{
					      		"category_name" :  "Nordic Skiing",
					      		"sub_category" : [
													"Skis",
													" Boots",
														"Bindings"
					      						]
					      	},
					      	{
					      		"category_name" :  "Alpine Skiing",
					      		"sub_category" : [
													"Skis",
													"Boots",
													"Bindings",
													"Poles",
													"Ski Helmets",
													"Goggles",
													"Bags"
					      						]
					      	},
					      	{
					      		"category_name" :  "Snowboards",
					      		"sub_category" : [
													 "Boards",
													 "Boots",
													 "Bindings",
													 "Bags",
													 "Accessories"
					      						]
					      	},
					      	{
					      		"category_name" :  "Action Sports",
					      		"sub_category" : [
													 "Skateboards",
													  "Scooters"
					      						]
					      	},
					      	{
					      		"category_name" :  "Racks",
					      		"sub_category" : [
													 "Racks Bike",
													 "Racks Ski",
													 "Rack Accessories"
					      						]
					      	},
					      	{
					      		"category_name" :  "Golf",
					      		"sub_category" : [
													"Sets",
													"Individual Woods",
													"Individual Irons",
														"Putters",
														"Bags",
														"Gloves",
														"Balls",
													"Pull Carts",
														"Accessories",
														"Gps/rangefinders"
					      						]
					      	},
					      	{
					      		"category_name" : "Hiking-climbing",
					      		"sub_category" : [
													 "Hardware",
													 "Cords And Slings",
													 "Harnesses",
													 "Snow And Ice",
													 "Snowshoes",
													 "Leg Gaiters",
													 "Accessories",
													 "Poles And Staffs"
					      						]
					      	},
					      	{
					      		"category_name" :  "Camping",
					      		"sub_category" : [
														"Tents",
														"Sleeping Bags",
														"Sleep Accessories",
														"Stoves / Lanterns",
														"Cookware / Food Prep",
														"Bottles",
														"Tools / Knives",
														"Health / Safety",
														"Seasonal",
														"Camping Accessories",
														"Storage",
														"Lights",
														"Camping Food/drink"
					      						]
					      	},
					      	{
					      		"category_name" : "Impulse Lanes",
					      		"sub_category" : [
													"Impulse Hardgoods",
													"Impulse Softgoods",
													"Impulse Footwear"
					      						]
					      	},
					      	{
					      		"category_name" :  "Fitness",
					      		"sub_category" : [
														"Boxing",
														"Yoga / Pilates",
														"Weight Training",
														"Aerobics",
														"Fitness Machines",
														"Sport Therapy",
														"Hydration"
					      						]
					      	},
					      	{
					      		"category_name" :  "Food And Drink",
					      		"sub_category" : [
													  "Drinks",
													  "Sports Nutrition",
													  "Health Management"
					      						]
					      	},
					      	{
					      		"category_name" :  "Electronics",
					      		"sub_category" : [
													 "Optics",
													  "Photography",
													  "Navigation",
													  "Batteries",
													  "Communication",
													  "Timing",
													  "Audio",
													  "Wearable Tech",
													  "Health Management"
					      						]
					      	},
					      	{
					      		"category_name" :  "Books And Video",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" :  "Home Games And Toys",
					      		"sub_category" : [
													"NA"
					      						]
					      	},
					      	{
					      		"category_name" :  "Travel",
					      		"sub_category" : [
													"Bags And Packs",
														"Accessories"
					      						]
					      	},
					      	{
					      		"category_name" :  "Bags",
					      		"sub_category" : [
													"Child Carriers",
													"Packs",
													"Carry Bags"
					      						]
					      	},
					      	{
					      		"category_name" :  "Sun Protection",
					      		"sub_category" : [
													"NA"
					      						]
					      	}
					      ]
							  
						}
					]
				}



var getDepartments = function(){
	var dept = []; 
	$(formOptions.departments).each(function(index,item){
		dept.push(item);
	});

	return dept;
}
var getCategoryByDepartment = function(dept){

	var categoryOptions = [];
	$(formOptions.departments).each(function(index,item){
		
		if(item.department_name == dept){
			$(item.category).each(function(i, category){
				categoryOptions.push(category.category_name);

			});	
		}
		
	});
	return categoryOptions;
}

var getSubCategoryByDepartmentandCategory = function(dept, cat){

	var subcategoryOptions = [];
	$(formOptions.departments).each(function(index,item){
		if(item.department_name == dept){
			
			$(item.category).each(function(i, category){
				
				if(category.category_name == cat){	
					$(category.sub_category).each(function(i, subcategory){
						subcategoryOptions.push(subcategory);
					});
				}

			});	
		}
		
	});
	return subcategoryOptions;
}

$("#department").on('change', function() {
	
	var deptSelected = $("#department").children("option").filter(":selected").val();
	var categoryOptions = getCategoryByDepartment(deptSelected);
	$("#category").empty();
	$("#category").append('<option value=""> Select </option>');
	$(categoryOptions).each(function(i,item){
		$("#category").append('<option data-dept="' + deptSelected + '" value="' + item + '">'+ item + '</option>');		
	});

	
});

$("#category").on('change', function() {
	
	var deptSelected = $("#department").children("option").filter(":selected").val();
	var categorySelected = $("#category").children("option").filter(":selected").val();
	var subcategoryOptions = getSubCategoryByDepartmentandCategory(deptSelected, categorySelected);
	$("#subcategory").empty();
	$("#subcategory").append('<option value="" > Select </option>');
	$(subcategoryOptions).each(function(i,item){
		$("#subcategory").append('<option data-dept="' + deptSelected + '" value="' + item + '">'+ item+ '</option>');		
	});

	
});